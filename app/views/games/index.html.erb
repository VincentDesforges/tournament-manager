<h1>Games index</h1>
<p>views/games/index</p>
<ul>
  <%# Here we are testing the condition outside loop to avoid re-evaluating each time %>
  <% if can? :create, Game %>
    <% @games.each do |game| %>
      <li><%= link_to game.title, game_path(game) %> <%= link_to "Edit", edit_game_path(game) %> <%= link_to "Delete", game_path(game), method: :delete, data: { confirm: "Are you sure you wish to delete this game?"} %></li>
    <% end %>
    <h2><%= link_to "Add game", new_game_path %></h2>
  <% else %>
    <% @games.each do |game| %>
      <li><%= link_to game.title, game_path(game) %></li>
    <% end %>
  <% end %>
</ul>
